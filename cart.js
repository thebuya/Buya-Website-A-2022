let products = [
    {
        productName: "TWO GENERATIONS",
        tag: "twogenerations",
        tags: "print wallarts dark african judgementday surreal nonfungibletoken nft digitalcollectible digitalart ",
        inCart: 0,
        category: "wall-Art",
        price: 90,
        image: "./assets/images/Generational-Love",
        subheading: "Description",
        description: "Each generation birthes and takes care of the next generation, one way or another. Be it in actual biological families, or in the birth of ideas.",
        Medium: "Digital Artwork",
        Size: "ðŸŽ– 60cm x 80cm Framed",
        Material: "Canvas & Wooden Frame",
        Editions: "1",
        Compatibility: "",
        BonusContent: "Comes with a phone cover.",
        Discount: "Save 10%",
    },
    {
        productName: "Case - WP02",
        tag: "case-wp02",
        tags: "android phonecases covers surreal afterlife yellowish lovely colourful dynamic organic iphone ",
        inCart: 0,
        category: "phone-Cases",
        price: 10,
        image: "./assets/images/case-organic",
        subheading: "Description",
        description: "This dynamic, organic phone cover is a limited edition, with only 10 copies being made. It will add a touch of bluish flair to your device, handcrafted with care and featuring original artwork. Protect your phone in style with this affordable one-of-a-kind cover.",
        Medium: "",
        Size: "",
        Editions: "10 ",
        Material: "Hard Plastic",
        Compatibility: "All iPhones, & Samsungs, + TEKNO",
        BonusContent: "",
        Discount: "",
    },

    {
        productName: "Case - G00",
        tag: "case-g00",
        tags: "android phonecases covers cheap african print new popular trending iphone ",
        inCart: 0,
        category: "phone-Cases",
        price: 10,
        image: "./assets/images/case-twogenerations.png",
        subheading: "Description",
        description: "This phone cover features original artwork titled Two-Generations. The unique design is crafted with care, adding a touch of artistic flair to your device. Protect your phone in style with this affordable one-of-a-kind cover.",
        Medium: "",
        Size: "",
        Editions: "10",
        Material: "Hard Plastic",
        Compatibility: "All iPhones, & Samsungs, + TEKNO",
        BonusContent: "",
        Discount: "",
    },
    /*
           
                
        */
    {
        productName: "GARDEN OF EDEN",
        tag: "gardenofeden",
        tags: "wallarts bible gardenof eden digitalpainting blackart judgementday surreal digitalcollectible digitalart ",
        inCart: 0,
        category: "wall-Art",
        price: 100,
        image: "./assets/images/Eden.jpeg",
        subheading: "Word",
        description: "The original public square, our garden, our corner. The garden was our taj mahal, our stone hedge, our testimonial to freedom, to peace, to love",

        Medium: "Digital Artwork",
        Size: "ðŸŽ– 60cm x 80cm Framed",
        Material: "Canvas & Wooden Frame",
        Editions: "1",
        Compatibility: "",
        BonusContent: " Comes with a phone cover.",
        Discount: "",
    },



    {
        productName: "SUICIDAL VIEW",
        tag: "suicidalview",
        tags: "blackframe wallart dark square isiaiah kajumba Suicidal View tokens 2022",
        inCart: 0,
        category: "wall-Art",
        price: 90,
        image: "./assets/images/suicidial-frame.jpg",
        subheading: "Description",
        description: "Maybe none of us was so crazy for wanting a way out. Maybe we were crazy for staying.",

        Medium: "Digital Artwork",
        Size: "ðŸŽ– 70cm x 80cm Frame",
        Material: "Canvas & Wooden Frame",
        Editions: "1",
        Compatibility: "",
        BonusContent: "Comes with a phone cover.",
        Discount: "Save 10%",
    },
    {
        productName: "Case - S07",
        tag: "case-s07",
        tags: "phonecases covers cheap light suicidal iphone ",
        inCart: 0,
        category: "phone-Cases",
        price: 10,
        image: "./assets/images/phoneCasesLQ/case-suicidee.png",
        subheading: "Description",
        description: "This affordable phone cover features artwork that emphasizes the importance of understanding mental health, this crafted cover is a reminder to prioritize self-care and well-being. Protect your phone in style with this unique and meaningful design.",




        Medium: "",
        Size: "",
        Editions: "10",
        Material: "Hard Plastic",
        Compatibility: "All iPhones, & Samsungs, + TEKNO",
        BonusContent: "",
        Discount: "",
    },
    {
        productName: "Case - DP01",
        tag: "case-dp01",
        tags: "phonecases covers cheap light partofgod iphone ",
        inCart: 0,
        category: "phone-Cases",
        price: 12,
        image: "./assets/images/case-darkphone.png",
        subheading: "Description",
        description: "This phone cover is the perfect combination of protection and artistic flair. Crafted with care, the unique design will add a touch of personality to your device. Show off your style with this vibrant phone case, featuring original artwork.",


        Medium: "",
        Size: "",
        Editions: "7 out of 10 Available",
        Material: "Hard Plastic",
        Compatibility: "All iPhones, & Samsungs, + TEKNO",
        BonusContent: "",
        Discount: "Buy 2 get 1 Free",
    },




    {
        productName: "JUDGEMENT-DAY.PSD",
        tag: "judgement-day.psd",
        tags: "wallarts dark judgementday surreal nonfungibletoken nft digitalcollectible digitalart ",
        inCart: 0,
        category: "tokens",
        price: 300,
        image: "./assets/images/Tokens/Judgementday-Token",
        description: "The Photoshop File of Judgement Day. Whether for personal use or professional design, make a statement with this masterpiece in your collection. Proceed to checkout to have it sent to you.",
        Medium: "",
        Size: "",
        Editions: "1",
        Material: "Photoshop File",
        Compatibility: "",
        BonusContent: "Comes with a Frame and Phone Cover. File is sent using We Transfer.",
        Discount: "",
    },
    {
        productName: "FACING DEPRESSION",
        tag: "facingdepression",
        tags: "wallarts dark depressed depression surreal sad digitalcollectible digitalart ",
        inCart: 0,
        category: "wall-Art",
        price: 90,
        image: "./assets/images/depre-p-min.png",
        subheading: "Description",
        description: "Delicate theme, but marvelous Artwork. A Symbol of what it means to battle demons. The artwork is a representation of how stranded we feel, how immbobile even if the key seems right next to us",

        Medium: "Digital Artwork",
        Size: "ðŸŽ– 60cm x 80cm Framed",
        Material: "Canvas & Wooden Frame",
        Editions: "1",
        Compatibility: "",
        BonusContent: "Comes with a Phone Cover.",
        Discount: "Save 10%",
    },
    {
        productName: "Case - DP00",
        tag: "case-dp00",
        tags: "phonecases covers cheap dark dementorcases iphone ",
        inCart: 0,
        category: "phone-Cases",
        price: 10,
        image: "./assets/images/case-depress",
        subheading: "Description",
        description: "Add some artistic flair to your phone with this custom cover. Featuring one-of-a-kind design, this phone case will protect your device in style. Handmade with care, this phone case is sure to make a statement and showcase your unique personality.",


        Medium: "",
        Size: "",
        Editions: "5 Available",
        Material: "Hard Plastic",
        Compatibility: "All iPhones, & Samsungs, + TEKNO",
        BonusContent: "",
        Discount: "",
    },




    {
        productName: "DEPRESSION-REPELLANT.PSD",
        tag: "depression-repellant.psd",
        tags: "wallarts dark depressionrepellant  weed surreal nonfungibletoken nft digitalcollectible digitalart ",
        inCart: 0,
        category: "tokens",
        price: 300,
        image: "./assets/images/Tokens/Repelling-Depression-Token",
        description: "Whether for personal use or professional design, make a statement with this masterpiece in your collection. Proceed to checkout to have it sent to you.",
        Medium: "",
        Size: "",
        Editions: "1",
        Material: "Photoshop File",
        Compatibility: "",
        BonusContent: "Comes with a Frame and Phone Cover. File is sent using We Transfer.",
        Discount: "",
    },
    {
        productName: "Case - DR01",
        tag: "case-dr01",
        tags: "phonecases covers cheap dark dementorcases iphone ",
        inCart: 0,
        category: "phone-Cases",
        price: 10,
        image: "./assets/images/case-depressrepell.png",
        subheading: "Description",
        description: "This phone cover is a true masterpiece, featuring surreal artwork that is sure to catch the eye. The unique design is a blend of reality and imagination, creating a one-of-a-kind look that is both captivating and mysterious. Protect your phone in style with this striking cover, sure to inspire conversation and intrigue. Make a statement with this surreal masterpiece on your phone.",


        Medium: "",
        Size: "",
        Material: "Hard Plastic",
        Editions: "8 out of 10 Available",
        Compatibility: "All iPhones, & Samsungs, + TEKNO",
        BonusContent: "",
        Discount: "",
    },

    {
        productName: "CONTROL OF LIFE",
        tag: "controloflife",
        tags: "wallarts malcolmx controloflife collage goldenblackframe surreal nonfungibletoken nft digitalcollectible digitalart ",
        inCart: 0,
        category: "wall-Art",
        price: 100,
        image: "./assets/images/Malcolm-X",
        subheading: "Description",
        description: "A3 Captain America Glass Frame. An indoor must have for all marvel fans out here. Proceed to checkout to have it delivered to you.",

        Medium: "Digital Artwork",
        Size: "ðŸŽ– 60cm x 80cm Framed",
        Material: "Canvas & Wooden Frame",
        Editions: "1 Available",
        Compatibility: "",
        BonusContent: "Comes with a Phone Cover",
        Discount: "",
    },
    {
        productName: "CAP.",
        tag: "cap.",
        tags: "wallarts captain america asssemble blackframe marvel popculture popart movies collage digitalart ",
        inCart: 0,
        category: "wall-Art",
        price: 25,
        image: "./assets/images/CAPT",
        subheading: "Description",
        description: "A3 Captain America Glass Frame. An indoor must have for all marvel fans out here. Proceed to checkout to have it delivered to you.",

        Medium: "Digital Artwork",
        Size: "ðŸŽ– 60cm x 80cm Framed",
        Material: "Canvas & Wooden Frame",
        Editions: "1 out of 3 Available",
        Compatibility: "",
        BonusContent: "Each comes with a Phone Cover",
        Discount: "Save 75%",
    },
    {
        productName: "Case - AL",
        tag: "case-al",
        tags: "phonecases covers cheap dark dementorcases iphone ",
        inCart: 0,
        category: "phone-Cases",
        price: 10,
        image: "./assets/images/case-outofgarden.png",
        subheading: "Description",
        description: "Add some creativity and mystique to your phone with this surreal phone cover. Featuring original artwork that blends reality and imagination, this cover is a true work of art. The striking design is sure to catch the eye and inspire conversation. Protect your phone in style with this one-of-a-kind cover, a true masterpiece that is sure to make a statement.",


        Medium: "",
        Size: "",
        Editions: "6 out of 10 Available",
        Material: "Hard Plastic",
        Compatibility: "All iPhones, & Samsungs, + TEKNO",
        BonusContent: "",
        Discount: "",
    },
    /*{
        productName: "Case - G01",
        tag:"partofgodcases",
        tags: "phonecases covers cheap light partofgod iphone ",
        inCart:0,
        category: "phone-Cases",
        price: 10,
        image: "./assets/images/case-partofgod.png",
        subheading:"Description",
        description: "This phone cover is more than just a protective case - it's a statement. Featuring artwork that reminds us of our connection to a higher power and encourages us to strive for our goals, this cover is a source of inspiration and motivation. Protect your phone in style with this unique and meaningful design.",
    },*/


    /*         
            {
                productName: "WEB 3.0",
                tag:"webthree",
                tags: "wallarts dark prophecy collage goldenblackframe surreal nonfungibletoken nft digitalcollectible digitalart ",
                inCart:0,
                category: "wall-Art",
                price: 100,
                image: "./assets/images//GODVISION",
                subheading:"Description",
                description: "Looking into the matrix for the answers.",
                Medium: "Digital Artwork",
                Size: "60cm x 80cm FramedðŸŽ–",
                Material: "Canvas & Wooden Frame",
                Editions:"1",
                Compatibility: "", 
                BonusContent:"ðŸŽ– Comes with a Phone Cover",
                Discount:"",
            },
    /*
            {
                productName: "Case - NB01",
                tag:"newbeginningscase",
                tags: "phonecases covers iphone kitenge cheap",
                inCart:0,
                category: "phone-Cases",
                price: 10,
                image: "./assets/images/case-newbenn.png",
                subheading:"Description",
                description: "This phone cover is a true work of art, featuring surreal imagery that is sure to catch the eye. The unique design blends reality and imagination, creating a one-of-a-kind look that is both captivating and mysterious. Protect your phone in style with this striking cover, sure to inspire conversation and intrigue. Make a statement with this surreal masterpiece on your phone.",
            },
    */

    /*
     
     {
         productName: "QUOTED T-SHIRTS",
         tag:"quotedt-shirts",
         tags: "shirts tshirts tops upperwear black quote cheap apparell",
         inCart:0,
         category: "apparell",
         price: 10,
         image: "./assets/images/tee5",
         subheading:"Description",
         description: "Provide a quote youd like on your t-shirt.",

         Medium: "",
         Size: "",
         Editions:"Open",
         Material: "Cotton T-Shirts",
         Compatibility: "",
         BonusContent:"",

     },*/


    /*
       {
           productName: "MARRIAGE.PSD",
           tag:"marriagepsd",
           tags: "wallarts dark judgementday surreal nonfungibletoken nft digitalcollectible digitalart ",
           inCart:0,
           category: "tokens",
           price: 300,
           image: "./assets/images/Tokens/Marriage-Token",
           subheading:"Description",
           description: "A3 Captain America Glass Frame. An indoor must have for all marvel fans out here. Proceed to checkout to have it delivered to you.",
       },*/

    /* {
         productName: "Kitenge Phone Covers",
         tag:"kitengephonecovers",
         tags: "phonecases covers iphone kitenge cheap",
         inCart:0,
         category: "phone-Cases",
         price: 10,
         image: "./assets/images/case2",
         subheading:"Description",
         description: "A3 Captain America Glass Frame. An indoor must have for all marvel fans out here. Proceed to checkout to have it delivered to you.",
     },*/



    {
        productName: "SUICIDAL-VIEW.PSD",
        tag: "suicidal-view.psd",
        tags: "wallarts dark surreal nonfungibletoken nft digitalcollectible digitalart ",
        inCart: 0,
        category: "tokens",
        price: 300,
        image: "./assets/images/Tokens/Suicidal-View-Token",
        subheading: "Description",
        description: "This Photoshop file is of a true work of art, featuring surreal imagery that blends reality and imagination. Whether for personal use or professional design, make a statement with this masterpiece in your collection.",


        Medium: "",
        Size: "",
        Editions: "1",
        Material: "Photoshop File",
        Compatibility: "",
        BonusContent: "Comes with a Frame and Phone Cover. File is sent using We Transfer.",
        Discount: "",
    },

];

for (let i of products) {
    // Create Card
    let card = document.createElement("div");
    // Card should have category and should stay hidden initially
    card.classList.add("card", i.category, "hide");
    card.setAttribute("id", i.tag);

    //image div
    let imgContainer = document.createElement("div");
    imgContainer.classList.add("image-container");

    //img tag
    let image = document.createElement("img");
    image.setAttribute("src", i.image);
    image.classList.add("services__button2");
    imgContainer.appendChild(image);
    card.appendChild(imgContainer);

    //container
    let container = document.createElement("div");
    container.classList.add("p-container");
    //product name
    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.innerText = i.productName.toUpperCase();
    container.appendChild(name);
    //tags
    let tag = document.createElement("p");
    tag.classList.add("product-tags");
    tag.innerText = i.tags.toUpperCase();
    container.appendChild(tag);
    //price
    let price = document.createElement("h6");
    price.innerText = "$" + i.price;
    container.appendChild(price);
    let discount = document.createElement("h6");
    discount.classList.add("discount");
    discount.innerText = i.Discount;
    price.appendChild(discount);




    //product-links-container
    let linksContainer = document.createElement("div");
    linksContainer.classList.add("links-container");
    //fa-container
    let eyecon = document.createElement("a");
    eyecon.setAttribute("href", "#");
    eyecon.classList.add("eye-icon");

    //more info
    /*let moreInfo = document.createElement("i");
    moreInfo.setAttribute("aria-hidden", "true");
    moreInfo.classList.add("fa", "fa-file-text"); //fa-info-circle fa-certificate
    
    eyecon.appendChild(moreInfo);

    linksContainer.appendChild(eyecon);
*/







    //BuyNow button
    let buyNowButton = document.createElement("div");
    buyNowButton.innerText = "Details";
    buyNowButton.classList.add("details-button");
    //buyNowButton.classList.add("add-cart");
    buyNowButton.classList.add("services__button");
    linksContainer.appendChild(buyNowButton);

    //Add Pop Up Modal

    //Add Pop Up Modal
    let popShop = document.createElement("div");
    popShop.classList.add("services__modal");

    let popShopContent = document.createElement("div");
    popShopContent.classList.add("services__modal-content");
    popShop.appendChild(popShopContent);

    let popShopTitle = document.createElement("h4");
    popShopTitle.classList.add("services__modal-title");
    popShopTitle.innerText = "Product Details";
    popShopContent.appendChild(popShopTitle);

    let popShopClose = document.createElement("i");
    popShopClose.classList.add("services__modal-close");
    popShopClose.classList.add("fa");
    popShopClose.classList.add("fa-times");
    popShopClose.setAttribute("id", "nav-close");
    popShopContent.appendChild(popShopClose);

    let makeContent = document.createElement("div");
    makeContent.classList.add("make-content");

    let makeImage = document.createElement("img");
    makeImage.setAttribute("src", i.image);
    makeContent.appendChild(makeImage);

    let makeText = document.createElement("div");
    makeText.classList.add("make-textcontent");
    let mKTitle = document.createElement("h3");
    mKTitle.innerText = i.productName;
    makeText.appendChild(mKTitle);


    let mKSubTitle = document.createElement("p");
    mKSubTitle.innerText = i.description;
    mKSubTitle.classList.add("mkDescription");
    makeText.appendChild(mKSubTitle);

    let mKDetails = document.createElement("h5");
    mKDetails.innerText = "Attributes";
    makeText.appendChild(mKDetails);

    let detaiList = document.createElement("ul");
    makeText.appendChild(detaiList);

    let mkList = document.createElement("li");
    mkList.innerText = i.Size + " " + i.Medium + " " + i.Compatibility;

    let listSpan2 = document.createElement("span");

    listSpan2.classList.add("list-span");
    mkList.appendChild(listSpan2);
    detaiList.appendChild(mkList);



    let mkList2 = document.createElement("li");
    mkList2.innerText = "Editions: ";
    let listSpan = document.createElement("span");
    listSpan.innerText = i.Editions;
    listSpan.classList.add("list-span");
    mkList2.appendChild(listSpan);
    detaiList.appendChild(mkList2);

    let mkList6 = document.createElement("li");
    mkList6.innerText = "Material: ";

    let listSpan6 = document.createElement("span");
    listSpan6.innerText = i.Material;
    listSpan6.classList.add("list-span");
    mkList6.appendChild(listSpan6);
    detaiList.appendChild(mkList6);

    let mkList7 = document.createElement("li");

    let listSpan7 = document.createElement("span");
    listSpan7.innerText = i.BonusContent;
    listSpan7.classList.add("list-span");
    mkList7.appendChild(listSpan7);
    detaiList.appendChild(mkList7);








    let mkList5 = document.createElement("li");
    mkList5.classList.add("details-textprice");

    let listSpan5 = document.createElement("span");
    listSpan5.innerText = "USD." + i.price;
    listSpan5.classList.add("list-span", "price-span");
    mkList5.appendChild(listSpan5);
    detaiList.appendChild(mkList5);





    makeContent.appendChild(makeText);




    popShopContent.appendChild(makeContent);

    let popCartOpen = document.createElement("div");
    // popCartOpen.classList.add("services__modal-close");
    popCartOpen.classList.add("pop-cart",);
    popCartOpen.innerText = "Add To Cart"
    popCartOpen.classList.add("cart-link3", "add-cart");
    //Open Cart //Add To Cart //Close Modal - ,"services__modal-close"
    popShopContent.appendChild(popCartOpen);


    let mkCaption = document.createElement("p");
    mkCaption.innerText = "We shall get in touch for delivery details, but you can get in touch first as well.";
    mkCaption.classList.add("popCaption");
    popShopContent.appendChild(mkCaption);

    /*  let mkCaption2 = document.createElement("p");
      mkCaption2.innerText = "2022.";
      mkCaption2.classList.add("popCaption");
      makeText.appendChild(mkCaption2);*/

    linksContainer.appendChild(popShop);


    //BuyNow button
    let cartButton = document.createElement("div");
    cartButton.innerText = "Add to Cart";
    cartButton.classList.add("buy-cart-button");
    cartButton.classList.add("add-cart2");
    linksContainer.appendChild(cartButton);

    //cart
    /*let cartbutton = document.createElement("div");
    cartbutton.innerText = "Add To Cart";
    cartbutton.classList.add( "add-cart2","eye-icon");
    let carticon = document.createElement("i");
    carticon.classList.add("fa", "fa-cart-arrow-down");
    cartbutton.appendChild(carticon);
    linksContainer.appendChild(cartbutton);
*/





    card.appendChild(container);
    card.appendChild(linksContainer);
    document.getElementById("shopproducts").appendChild(card);
}



//parameter passed fro button (parameter same as category)
function filterProduct(value) {
    //Button class code
    let buttons = document.querySelectorAll(".button-value");
    buttons.forEach((button) => {
        //check if value equals innerText
        if (value.toUpperCase() == button.innerText.toUpperCase()) {
            button.classList.add("pactive");
        } else {
            button.classList.remove("pactive");
        }
    });

    //select all cards
    let elements = document.querySelectorAll(".card");
    //loop through all cards
    elements.forEach((element) => {
        //display all cards on 'all' button click
        if (value == "all") {
            element.classList.remove("hide");
        } else {
            //check if element contains category class
            if (element.classList.contains(value)) {
                //display element based on caegory
                element.classList.remove("hide");
            } else {
                //hide other elements
                element.classList.add("hide");
            }
        }
    });
}


    //Search button click
    document.getElementById("search").addEventListener("click", () => {
        //Initializations
        let searchInput = document.getElementById("search-input").value;
        let elements = document.querySelectorAll(".product-tags"); //.product-name
        //I changed to tags so i can easily randomise them the more for search

        let cards = document.querySelectorAll(".card");

        //console.log(searchInput);
        //loop through all elements
        elements.forEach((element, index) => {
            //check if text includes search value
            // could add my own key words
            if (element.innerText.includes(searchInput.toUpperCase())) {
                //display matching card
                cards[index].classList.remove("hide")
            }
            else {
                // hide others
                cards[index].classList.add("hide");
            }
            document.getElementById("search-input").value = ""; //makes words clear after search
        });

    });



//Search Button with Enter Key Pressed.
document.getElementById("search-input")
    .addEventListener("keyup", function (event) {
        event.preventDefault();
        if (event.keyCode === 13) {
            document.getElementById("search").click();
            document.getElementById("search-input").value = "";
        }


    });







//Initially display all products
window.onload = () => {
    filterProduct("all");
};





































//DISAPPEAR AND APPEAR CART
let zcartIcon = document.querySelector('#cart-link1');
let zcartIcon2 = document.querySelector('#cart-link2');
let zcart = document.querySelector('.cart-side');
let closeZcart = document.querySelector('#cart-close');



let zcartIcon3 = document.querySelector('.cart-link3');


zcartIcon3.addEventListener('click', () => {
    zcart.classList.add("active");
});







zcartIcon.onclick = () => {
    zcart.classList.add("active");
};
zcartIcon2.onclick = () => {
    zcart.classList.add("active");
};
/*
zcartIcon3.onclick = () =>{
    zcart.classList.add("active");
};*/
closeZcart.onclick = () => {
    zcart.classList.remove("active");
};





















// When Click add to cart, it adds
// Grabbing all add to carts
let add2cart = document.querySelectorAll(".add-cart");
let addmessage = document.querySelector(".pop-added")


for (let i = 0; i < add2cart.length; i++) {
    add2cart[i].addEventListener('click', () => {
        cartNumbers(products[i]);
        totalCost(products[i]);
        addmessage.classList.add('pop-showadd');
        setTimeout(function () { addmessage.classList.remove('pop-showadd'); }, 1500);

        displayCart();



    })
}
let add2cartT = document.querySelectorAll(".add-cart2");

for (let i = 0; i < add2cartT.length; i++) {
    add2cartT[i].addEventListener('click', () => {
        cartNumbers(products[i]);
        totalCost(products[i]);
        addmessage.classList.add('pop-showadd');
        setTimeout(function () { addmessage.classList.remove('pop-showadd'); }, 1500);

        displayCart();
    })
}



//
function onLoadCartNumbers() {
    let productNumbers = localStorage.getItem('cartNumbers');
    const spantext = document.getElementById("cart-count");
    const spantext2 = document.getElementById("cart-count2");

    if (productNumbers) {
        spantext.textContent = productNumbers;
        spantext2.textContent = productNumbers;
    }
}



//Adding To Cart  // cost me 24$ ðŸ§¸
function cartNumbers(product, action) {

    let productNumbers = localStorage.getItem('cartNumbers');
    const spantext = document.getElementById("cart-count");
    const spantext2 = document.getElementById("cart-count2");

    productNumbers = parseInt(productNumbers); //Changing String to Numbers


    



    let cartItems = localStorage.getItem('productsInCart');
    cartItems = JSON.parse(cartItems);

    if (action == "decrease") {
        localStorage.setItem('cartNumbers', productNumbers - 1);
        spantext.textContent = productNumbers - 1;
        spantext2.textContent = productNumbers - 1;
    }
    else if (productNumbers) {
        localStorage.setItem('cartNumbers', productNumbers + 1);
        spantext.textContent = productNumbers + 1;
        spantext2.textContent = productNumbers + 1;
    }
    else {
        localStorage.setItem('cartNumbers', 1);
        spantext.textContent = 1;
        spantext2.textContent = 1;
    }

    setItems(product);

}

//
function setItems(product) {
    let cartItems = localStorage.getItem('productsInCart');
    cartItems = JSON.parse(cartItems);
  
    if (cartItems !== null) {
      if (cartItems[product.tag] !== undefined) {
        cartItems[product.tag].inCart += 1;
      } else {
        cartItems[product.tag] = product;
        cartItems[product.tag].inCart = 1;
      }
    } else {
      product.inCart = 1;
      cartItems = {
        [product.tag]: product
      };
    }
  
    localStorage.setItem('productsInCart', JSON.stringify(cartItems));
  }







//total cost javascript // cost me 24$ ðŸ§¸
function totalCost(product, action) {
    let cartCost = localStorage.getItem('totalCost');

    // console.log("My Cart Cost is", cartCost);
    //  console.log(typeof cartCost);

    if (action == "decrease") {

        cartCost = parseInt(cartCost);
        localStorage.setItem("totalCost", cartCost - product.price);
    }
    else if (cartCost != null) {
        cartCost = parseInt(cartCost);
        localStorage.setItem("totalCost", cartCost + product.price);
    }
    else {
        localStorage.setItem("totalCost", product.price);
    }

}



function delElement(a) {
    let zcartItems = localStorage.getItem("productsInCart");
    zcartItems = JSON.parse(zcartItems);
    zcartItems.slice(a, 1);
    displayCart();
}



function displayCart() {
    let cartItems = localStorage.getItem("productsInCart");
    cartItems = JSON.parse(cartItems);
    //let productContainer = document.querySelector(".cart-side");
    let zproductContainer = document.querySelector(".zproducts")
    let cartCost = localStorage.getItem('totalCost');

    //console.log(cartItems);
    if (cartItems && zproductContainer) {
        zproductContainer.innerHTML = '';
        Object.values(cartItems).map(item => {
            zproductContainer.innerHTML += `
            <div class = "product">
                <i class="fa fa-times-circle product-remove" aria-hidden="true"></i>
                <img src="${item.image}">
                <span>${item.productName}</span>
            </div>
            <div class="price">$${item.price}</div>
            <div class="quantity">
                <i class="fa fa-chevron-circle-left decrease" aria-hidden="true"></i>
                <span>${item.inCart}</span>
                <i class="fa fa-chevron-circle-right increase" aria-hidden="true"></i>
            </div>
            <div class="total">
                $${item.inCart * item.price}
            </div>
            `
        });

        zproductContainer.innerHTML += `
        <div class="basketTotalContainer">
            <h4 class="basketTotalTitle">
                Total Cost  
            </h4>
            <h4 class="basketTotal">
                $${cartCost}.00
            </h4>

        </div>
       `;

        zproductContainer.innerHTML += `
        <div class="basketTotalContainer checkingOut">
            <button class="CheckOut" id="startCheckout">

            Complete Purchase
            </button>


        </div>
       `;

        zproductContainer.innerHTML += `
        <div class="basketTotalContainer checkingOut">
        <ul class="footer-social-icons">
        <li class="footer-icon carttwitter">
            <a href="https://twitter.com/ich_bin_buya" target="_blank" class="footer-i">
                <i class="fab fa-twitter"></i>
            </a>
        </li>
        <li class="footer-icon cartwhatsapp">
            <a href="https://wa.me/256783909668" target="_blank" class="footer-i">
                <i class="fab fa-whatsapp"></i>
            </a>

        </li>
        <li class="footer-icon cartinstagram">
            <a target="_blank" href="https://www.instagram.com/the_buya/" class="footer-i">
                <i class="fab fa-instagram"></i>
            </a>
        </li>
    </ul>

        </div>
       `;



    }






    deleteButtons();
    /* Placed it here, because this is where cart display begins */

    manageQuantity();


    const startCheckout = document.getElementById("startCheckout");
    startCheckout.addEventListener('click', () => {
        console.log("Proceeding to check-out.");
        startCheckout.textContent = "Processing..."; // Change back â¬‡ â¬‡ â¬‡ â¬‡
        setTimeout(function () { startCheckout.textContent = " ðŸš§ Currently under Upgrade ðŸš§"; }, 2000);

    });




}


function deleteButtons() { // cost me 24$ - #SkillShare
    /* use selector all when ther  e are multiple of these elements on page */
    let deleteButtons = document.querySelectorAll('.product-remove');
    let productName;
    let productNumbers = localStorage.getItem('cartNumbers');
    let cartItems = localStorage.getItem('productsInCart');
    cartItems = JSON.parse(cartItems);
    let cartCost = localStorage.getItem('totalCost');

    for (let i = 0; i < deleteButtons.length; i++) {
        deleteButtons[i].addEventListener('click', () => {
            productName = deleteButtons[i].parentElement.textContent.trim().toLowerCase().replace(/ /g, '');
            //trim removes white spaces before and after // replace there goes -  looking for any emoty spcaes globally and replacing them

            console.log(" The new console text is: " + productName);
            console.log(cartItems[productName].productName + " " + cartItems[productName].inCart);

            localStorage.setItem('cartNumbers', productNumbers - cartItems[productName].inCart);
            localStorage.setItem('totalCost', cartCost - (cartItems[productName].price * cartItems[productName].inCart));

            delete cartItems[productName].inCart;  // ðŸ’­ #Solution
            delete cartItems[productName];
            localStorage.setItem('productsInCart', JSON.stringify(cartItems));
            //Whenever we want to update sumn on LocalStorage, it has to be in JSON Format, hence stringify

            displayCart();
            onLoadCartNumbers();

        });
    }

}


function manageQuantity() { // cost me 24$
    //Initialising
    let decreaseButtons = document.querySelectorAll('.decrease');
    let increaseButtons = document.querySelectorAll('.increase');
    let cartItems = localStorage.getItem('productsInCart');
    let currentQuantity = 0;
    let currentProduct = "";
    cartItems = JSON.parse(cartItems);
    console.log(cartItems);

    for (let i = 0; i < decreaseButtons.length; i++) {
        decreaseButtons[i].addEventListener('click', () => {
            currentQuantity = decreaseButtons[i].parentElement.querySelector('span').textContent;

            currentProduct = decreaseButtons[i].parentElement.previousElementSibling.previousElementSibling.querySelector('span').textContent.toLowerCase().replace(/ /g, '').trim();
            console.log(currentProduct);

            if (cartItems[currentProduct].inCart > 1) {
                cartItems[currentProduct].inCart = cartItems[currentProduct].inCart - 1;
                cartNumbers(cartItems[currentProduct], "decrease");
                totalCost(cartItems[currentProduct], "decrease");
                localStorage.setItem('productsInCart', JSON.stringify(cartItems));
                displayCart();
            }



        });
    }

    for (let i = 0; i < increaseButtons.length; i++) {
        increaseButtons[i].addEventListener('click', () => {
            currentQuantity = increaseButtons[i].parentElement.querySelector('span').textContent;

            currentProduct = increaseButtons[i].parentElement.previousElementSibling.previousElementSibling.querySelector('span').textContent.toLowerCase().replace(/ /g, '').trim();
            console.log(currentProduct);

            cartItems[currentProduct].inCart = cartItems[currentProduct].inCart + 1;
            cartNumbers(cartItems[currentProduct]);
            totalCost(cartItems[currentProduct]);
            localStorage.setItem('productsInCart', JSON.stringify(cartItems));
            displayCart();


        });
    }
}



//  <img src="./assets/images/${item.tag}.jpg">
//So that whenever we load page, cart has said items.
onLoadCartNumbers();
displayCart();

